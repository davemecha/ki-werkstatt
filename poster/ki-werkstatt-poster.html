<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KI-Werkstatt - A3 Poster</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        font-family: "Poppins", sans-serif;
        background: #f5f5f5;
        overflow: hidden;
      }

      #poster {
        width: 297mm;
        height: 420mm;
        background: linear-gradient(
          135deg,
          oklch(42.71% 0.1638 271.53) 0%,
          oklch(20.12% 0.1384 304.73) 100%
        );
        position: relative;
        margin: 0 auto;
        padding: 20mm;
        padding-top: 20mm;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        color: #ffffff;
        box-shadow: 0 5mm 10mm rgba(0, 0, 0, 0.1);
        border-radius: 5mm;
        overflow: hidden;
      }

      .poster-content {
        display: flex;
        flex-direction: column;
        gap: 8mm;
        height: 100%;
      }

      .header-section {
        text-align: center;
        margin-bottom: 5mm;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }

      .headline {
        width: 120mm;
        height: 80mm;
        background: url("ki-werkstatt.jpeg") center/cover no-repeat;
        margin-bottom: 4mm;
        filter: drop-shadow(0 1mm 2mm rgba(0, 0, 0, 0.3));
      }

      .subline {
        font-style: italic;
        font-size: 10mm;
        color: #e0e6ff;
        font-weight: 400;
        text-shadow: 0 0.5mm 1mm rgba(0, 0, 0, 0.2);
      }

      .subline + p {
        padding-top: 6mm;
        font-size: 8mm;
        color: #e0e6ff;
        font-weight: 400;
        text-shadow: 0 0.5mm 1mm rgba(0, 0, 0, 0.2);
      }

      .content-grid {
        display: grid;
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
        gap: 9mm;
        flex: 1;
      }

      .content-block {
        background: rgba(255, 255, 255, 0.15);
        border-radius: 5mm;
        padding: 7.5mm;
        backdrop-filter: blur(2mm);
        box-shadow: 0 2mm 8mm rgba(0, 0, 0, 0.1);
        border: 0.25mm solid rgba(255, 255, 255, 0.2);
      }

      .content-block h3 {
        font-size: 8mm;
        font-weight: 700;
        margin-bottom: 6mm;
        color: #ffffff;
        text-shadow: 0 0.5mm 1mm rgba(0, 0, 0, 0.2);
      }

      .content-block ul {
        list-style: none;
        font-size: 6mm;
        line-height: 1.5;
      }

      .content-block li {
        margin-bottom: 2mm;
        padding-left: 11mm;
        position: relative;
      }

      .content-block li::before {
        content: "‚ú®";
        position: absolute;
        left: 0;
        top: 0;
        font-size: 6mm;
      }

      .process-section {
        grid-column: 1 / -1;
        text-align: center;
      }

      .process-section h3 {
        font-size: 9mm;
        margin-bottom: 4mm;
        filter: drop-shadow(0 1mm 2mm rgba(0, 0, 0, 0.3));
      }

      .process-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8mm;
        margin-top: 5mm;
      }

      .process-step {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4mm;
        padding: 6mm;
        backdrop-filter: blur(2mm);
        box-shadow: 0 1.5mm 6mm rgba(0, 0, 0, 0.1);
        border: 0.25mm solid rgba(255, 255, 255, 0.3);
      }

      .process-step .icon {
        font-size: 14mm;
        margin-bottom: 4mm;
      }

      .process-step h4 {
        font-size: 7mm;
        line-height: 1.4;
        font-weight: 600;
        margin-bottom: 3mm;
        color: #ffffff;
      }

      .process-step p {
        font-size: 5mm;
        color: #e0e6ff;
        line-height: 1.4;
      }

      .footer-section {
        text-align: center;
        margin-top: 5mm;
      }

      .footer-notice {
        font-size: 7mm;
        color: #e0e6ff;
        opacity: 0.8;
      }

      /* Unstyle inputs to inherit surrounding text completely */
      input[type="text"],
      input[type="search"],
      input:not([type]) {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background: transparent;
        border: none;
        border-radius: 0;
        padding: 0;
        margin: 0;
        box-shadow: none;
        outline: none;
        display: inline;
        width: auto;
        min-width: 10ch;
        vertical-align: baseline;

        /* Inherit all relevant text styles */
        color: inherit;
        caret-color: currentColor;
        font: inherit;
        line-height: inherit;
        letter-spacing: inherit;
        text-shadow: inherit;
        text-align: inherit;
      }

      input[type="text"]:focus,
      input[type="search"]:focus,
      input:not([type]):focus {
        outline: none;
        box-shadow: none;
      }

      /* Ensure placeholder text matches surrounding styles */
      input::placeholder {
        color: inherit;
        opacity: 0.7; /* keep slight distinction if placeholders are used */
      }

      /* Prevent inputs inside the grid from expanding columns */
      .content-grid input[type="text"],
      .content-grid input[type="search"],
      .content-grid input:not([type]) {
        min-width: 0; /* override global min-width to allow shrinking */
        max-width: 100%;
        width: 100%;
      }

      /* Floating save button (screen only) */
      #saveInputsBtn {
        position: fixed;
        top: 16px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        padding: 10px 16px;
        border: none;
        border-radius: 9999px;
        background: rgba(0, 0, 0, 0.55);
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
        backdrop-filter: blur(4px);
      }

      #saveInputsBtn:hover {
        background: rgba(0, 0, 0, 0.7);
      }

      /* Print styles */
      @media print {
        @page {
          size: A3 portrait;
          margin: 0;
        }

        html,
        body {
          width: 297mm;
          height: 420mm;
          background: white !important;
        }

        #poster {
          /* width: 297mm; */
          /* height: 420mm; */
          transform: none !important;
          margin: 0 !important;
          /* padding: 40mm; */
          box-shadow: none;
          border-radius: 0;
          /* background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); */
        }

        .content-block,
        .process-step {
          background: rgba(255, 255, 255, 0.1) !important;
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }

        /* Hide floating button when printing */
        #saveInputsBtn {
          display: none !important;
        }
      }

      /* Responsive scaling */
      @media screen {
        #poster {
          transform-origin: top left;
          transition: transform 0.3s ease;
        }
      }
    </style>
  </head>
  <body>
    <div id="poster">
      <div class="poster-content">
        <div class="header-section">
          <div class="headline"></div>
          <div>
            <div class="subline">Die AG f√ºr KI-Kultur und Experimente</div>
            <p>
              Eintauchen in die Welt der KI<br />f√ºr Lernende und Lehrende<br />
              <input type="text" />
            </p>
          </div>
        </div>

        <div class="content-grid">
          <div class="content-block">
            <h3>üöÄ Warum mitmachen?</h3>
            <ul>
              <li>KI verstehen & anwenden</li>
              <li>Eigene Projekte (Apps, Cheatsheets, Videos ‚Ä¶)</li>
              <li>Schule aktiv mitgestalten</li>
            </ul>
          </div>

          <div class="content-block">
            <h3>üë• &nbsp;Wer kann teilnehmen?</h3>
            <ul>
              <li>Sch√ºler:innen<br />12 Jahre - 12. Klasse</li>
              <li>Lehrkr√§fte welcome</li>
            </ul>
          </div>

          <div class="content-block">
            <h3>‚è∞ Wann und Wo?</h3>
            <ul>
              <li><input type="text" /></li>
              <li><input type="text" /></li>
            </ul>
          </div>

          <div class="content-block">
            <h3>üì± Bring mit!</h3>
            <ul>
              <li>Eigenes Ger√§t (Handy, Tablet, Laptop)</li>
              <li>Neugier & Experimentierfreude</li>
            </ul>
          </div>
        </div>

        <div class="process-section">
          <h3>üîé Was passiert?</h3>
          <div class="process-grid">
            <div class="process-step">
              <div class="icon">üí°</div>
              <h4>KI-Moment der Woche</h4>
              <p>Neueste Entwicklungen & spannende Anwendungen</p>
            </div>
            <div class="process-step">
              <div class="icon">üó£Ô∏è</div>
              <h4>Mini-Talk & Diskussion</h4>
              <p>Austausch & gemeinsame Erkundung</p>
            </div>
            <div class="process-step">
              <div class="icon">‚ö°</div>
              <h4>45-60 Min. Projektzeit</h4>
              <p>Praktische Umsetzung eigener Ideen</p>
            </div>
          </div>
        </div>

        <div class="footer-section">
          <div class="footer-notice">
            Teilnahme nur mit Einwilligung der Eltern.
          </div>
        </div>
      </div>
    </div>
    <button
      id="saveInputsBtn"
      type="button"
      title="Eingaben speichern (nur Anzeige, nicht im Druck)"
    >
      Speichern
    </button>

    <script>
      const STORAGE_KEY = "kiwerkstatt_poster_inputs_v1";

      function getPosterInputs() {
        return Array.from(document.querySelectorAll("#poster input"));
      }

      function saveInputs() {
        try {
          const values = getPosterInputs().map((el) => el.value);
          localStorage.setItem(STORAGE_KEY, JSON.stringify(values));
          const btn = document.getElementById("saveInputsBtn");
          if (btn) {
            const old = btn.textContent;
            btn.textContent = "Gespeichert";
            setTimeout(() => (btn.textContent = old), 1200);
          }
        } catch (e) {
          console.error("Konnte Eingaben nicht speichern:", e);
        }
      }

      function loadInputs() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return;
          const saved = JSON.parse(raw);
          const inputs = getPosterInputs();
          inputs.forEach((el, i) => {
            if (typeof saved[i] === "string") el.value = saved[i];
          });
        } catch (e) {
          console.error("Konnte gespeicherte Eingaben nicht laden:", e);
        }
      }

      // Init save button
      document.addEventListener("DOMContentLoaded", () => {
        const btn = document.getElementById("saveInputsBtn");
        if (btn) btn.addEventListener("click", saveInputs);
        loadInputs();
      });

      function updateScale() {
        const poster = document.getElementById("poster");
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;

        // A3 dimensions in mm
        const posterWidth = 297;
        const posterHeight = 420;

        // Convert mm to pixels (96 DPI approximation)
        const mmToPx = 96 / 25.4;
        const posterWidthPx = posterWidth * mmToPx;
        const posterHeightPx = posterHeight * mmToPx;

        // Calculate scale factor with padding
        const padding = 60; // 40px padding
        const scaleX = (windowWidth - padding * 2) / posterWidthPx;
        const scaleY = (windowHeight - padding * 2) / posterHeightPx;
        const scale = Math.min(scaleX, scaleY, 1); // Don't scale up

        poster.style.transform = `scale(${scale})`;

        // Center the poster
        const scaledWidth = posterWidthPx * scale;
        const scaledHeight = posterHeightPx * scale;
        poster.style.marginLeft = `${(windowWidth - scaledWidth) / 2}px`;
        poster.style.marginTop = `${(windowHeight - scaledHeight) / 2}px`;
      }

      // Initial scale and update on resize
      updateScale();
      window.addEventListener("resize", updateScale);

      // Handle orientation change on mobile
      window.addEventListener("orientationchange", () => {
        setTimeout(updateScale, 100);
      });

      // Handle fullscreen changes
      document.addEventListener("fullscreenchange", updateScale);
    </script>
  </body>
</html>
